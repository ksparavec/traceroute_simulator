---
# Test Router Inventory for Traceroute Simulator
# This inventory defines the 10-router test network topology used for development and testing
# 
# Network Topology:
# - HQ Location: 4 routers (hq-gw, hq-core, hq-dmz, hq-lab)
# - Branch Location: 3 routers (br-gw, br-core, br-wifi) 
# - Data Center Location: 3 routers (dc-gw, dc-core, dc-srv)
# - WireGuard VPN mesh: 10.100.1.0/24 connecting all locations

all:
  children:
    test_routers:
      children:
        hq_routers:
          hosts:
            hq-gw:
              location: hq
              type: gateway
              role: gateway
              wireguard_ip: 10.100.1.1
              networks:
                - 10.1.1.0/24    # Gateway network
                - 203.0.113.0/24 # Internet connection
            hq-core:
              location: hq
              type: core
              role: distribution
              networks:
                - 10.1.2.0/24    # Core network
                - 10.1.1.0/24    # Gateway connection
            hq-dmz:
              location: hq
              type: access
              role: dmz
              networks:
                - 10.1.2.0/24    # DMZ network
            hq-lab:
              location: hq
              type: access
              role: server
              networks:
                - 10.1.10.0/24   # Lab network 1
                - 10.1.11.0/24   # Lab network 2
        
        branch_routers:
          hosts:
            br-gw:
              location: branch
              type: gateway
              role: gateway
              wireguard_ip: 10.100.1.2
              networks:
                - 10.2.1.0/24    # Gateway network
                - 198.51.100.0/24 # Internet connection
            br-core:
              location: branch
              type: core
              role: distribution
              networks:
                - 10.2.2.0/24    # Core network
                - 10.2.1.0/24    # Gateway connection
            br-wifi:
              location: branch
              type: access
              role: wifi
              networks:
                - 10.2.4.0/24    # Guest WiFi
                - 192.168.10.0/24 # Corporate WiFi
        
        datacenter_routers:
          hosts:
            dc-gw:
              location: datacenter
              type: gateway
              role: gateway
              wireguard_ip: 10.100.1.3
              networks:
                - 10.3.1.0/24    # Gateway network
                - 192.0.2.0/24   # Internet connection
            dc-core:
              location: datacenter
              type: core
              role: distribution
              networks:
                - 10.3.2.0/24    # Core network
                - 10.3.1.0/24    # Gateway connection
            dc-srv:
              location: datacenter
              type: access
              role: server
              networks:
                - 10.3.10.0/24   # Production servers
                - 10.3.20.0/24   # Storage servers

  vars:
    # Ansible connection settings
    ansible_host: localhost
    ansible_python_interpreter: /usr/bin/python3
    
    # Test environment specific variables
    test_environment: true
    traceroute_simulator_test: true
    
    # Network topology metadata
    network_topology:
      locations:
        - hq
        - branch
        - datacenter
      wireguard_network: 10.100.1.0/24
      total_routers: 10
      total_networks: 14

# Group-specific variables
hq_routers:
  vars:
    location_prefix: "10.1"
    internet_gateway: "203.0.113.10"
    location_networks:
      - 10.1.1.0/24
      - 10.1.2.0/24
      - 10.1.10.0/24
      - 10.1.11.0/24

branch_routers:
  vars:
    location_prefix: "10.2"
    internet_gateway: "198.51.100.10"
    location_networks:
      - 10.2.1.0/24
      - 10.2.2.0/24
      - 10.2.4.0/24
      - 192.168.10.0/24

datacenter_routers:
  vars:
    location_prefix: "10.3"
    internet_gateway: "192.0.2.10"
    location_networks:
      - 10.3.1.0/24
      - 10.3.2.0/24
      - 10.3.10.0/24
      - 10.3.20.0/24