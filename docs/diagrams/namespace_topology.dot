
    digraph Namespaces {
        rankdir=TB;
        compound=true;
        
        // Namespace boxes
        subgraph cluster_hq {
            label="HQ Network";
            style=filled;
            color=lightblue;
            
            hq_gw [label="hq-gw\n10.1.1.1"];
            hq_core [label="hq-core\n10.1.2.1"];
            hq_dmz [label="hq-dmz\n10.1.3.1"];
            hq_lab [label="hq-lab\n10.1.4.1"];
            
            hq_gw -> hq_core [label="eth1"];
            hq_core -> hq_dmz [label="eth2"];
            hq_core -> hq_lab [label="eth3"];
        }
        
        subgraph cluster_branch {
            label="Branch Network";
            style=filled;
            color=lightgreen;
            
            br_gw [label="br-gw\n10.2.1.1"];
            br_core [label="br-core\n10.2.1.2"];
            br_wifi [label="br-wifi\n10.2.1.3"];
            
            br_gw -> br_core [label="eth1"];
            br_core -> br_wifi [label="eth2"];
        }
        
        subgraph cluster_dc {
            label="Data Center";
            style=filled;
            color=lightyellow;
            
            dc_gw [label="dc-gw\n10.3.1.1"];
            dc_core [label="dc-core\n10.3.1.2"];
            dc_srv [label="dc-srv\n10.3.1.3"];
            
            dc_gw -> dc_core [label="eth1"];
            dc_core -> dc_srv [label="eth2"];
        }
        
        // VPN connections
        hq_gw -> br_gw [label="WireGuard\nwg0", style=dashed, color=red];
        hq_gw -> dc_gw [label="WireGuard\nwg1", style=dashed, color=red];
        br_gw -> dc_gw [label="WireGuard\nwg1", style=dashed, color=red];
    }
    